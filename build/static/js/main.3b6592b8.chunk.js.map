{"version":3,"sources":["backend.js","auth/helper/index.js","core/Navbar.js","core/Footer.js","core/Base.js","core/Landing.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoute.js","auth/helper/PrivateRoute.js","user/helper/userApiCalls.js","core/Card.js","core/helper/coreApiCalls.js","user/UserDashboard.js","user/AdminDashboard.js","App.js","index.js"],"names":["API","isAuthenticated","window","localStorage","getItem","JSON","parse","withRouter","history","className","to","style","cursor","width","src","alt","user","name","exact","role","onClick","signout","next","removeItem","fetch","method","then","res","console","log","catch","err","push","Footer","background","id","href","Base","children","data-barba","Navbar","Landing","class","Signup","useState","email","password","error","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","stringify","response","json","data","title","description","display","action","htmlFor","onChange","type","placeholder","Signin","loading","didRedirect","signin","setItem","authenticate","AdminRoute","Component","component","rest","render","props","pathname","state","from","location","PrivateRoute","getUserFavourites","token","_id","Authorization","getTrackById","Card","track","rating","setRating","isFav","setIsFav","artist","duration","image","handleRemove","favourites","filter","bodyData","removeFromFavourites","handleSubmit","newRating","newTrack","ind","findIndex","t","addToFavourites","useEffect","length","checked","UserDashboard","delayTimer","tracks","setTracks","setFavourites","recommendations","setRecommendations","searchResults","setSearchResults","setLoading","setError","trackTypes","loadNewTracks","getNewTracks","loadUserFavourites","a","favList","userData","l","forEach","fav","loadRecommendations","getRecommendationTracks","recs","len","trackId","execSearchQuery","txt","clearTimeout","setTimeout","searchQuery","url","URL","params","q","search","URLSearchParams","toString","getSearchQueryResults","e","map","index","key","Math","floor","random","data-toggle","aria-controls","aria-selected","aria-labelledby","data-filter","rec","AdminDashboard","usersFavs","setUsersFavs","loadAllUsersFavs","getAllUsersFavs","scope","App","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3b6592b8.chunk.js","sourcesContent":["export const API = \"http://localhost:8089/api\";\n","import { API } from \"../../backend\";\n\nexport const signup = user => {\n\treturn fetch(`${API}/signup`, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: JSON.stringify(user)\n\t})\n\t\t.then(response => response.json())\n\t\t.catch(err => console.log(err));\n};\n\nexport const signin = user => {\n\treturn fetch(`${API}/signin`, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: JSON.stringify(user)\n\t})\n\t\t.then(response => response.json())\n\t\t.catch(err => console.log(err));\n};\n\nexport const authenticate = (data, next) => {\n\tif (typeof window !== \"undefined\") {\n\t\tlocalStorage.setItem(\"jwt\", JSON.stringify(data));\n\t\tnext();\n\t}\n};\n\nexport const signout = next => {\n\tif (typeof window !== \"undefined\") {\n\t\tlocalStorage.removeItem(\"jwt\");\n\t\tnext();\n\t\treturn fetch(`${API / signout}`, {\n\t\t\tmethod: \"GET\"\n\t\t})\n\t\t\t.then(res => console.log(\"Signout success\"))\n\t\t\t.catch(err => console.log(err));\n\t}\n};\n\nexport const isAuthenticated = () => {\n\tif (typeof window === \"undefined\") {\n\t\treturn false;\n\t}\n\tif (localStorage.getItem(\"jwt\")) {\n\t\treturn JSON.parse(localStorage.getItem(\"jwt\"));\n\t} else {\n\t\treturn false;\n\t}\n};\n","import React, { Fragment } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { signout, isAuthenticated } from \"../auth/helper\";\n\nconst navbar = ({ history }) => {\n  return (\n    <nav className='navbar shadow navbar-light bg-light sticky-top justify-content-between py-2 topNav'>\n      <NavLink\n        to='/'\n        className='navbar-brand ml-1 px-4'\n        style={{ cursor: \"pointer\" }}\n      >\n        <div className='row h-100 align-items-center'>\n          <div className='imgContainer' style={{ width: \"2rem\" }}>\n            <img src='../imgs/logo.svg' alt='logo' />\n          </div>\n          <span>&emsp;Music</span>\n        </div>\n      </NavLink>\n      {isAuthenticated() && (\n        <div className=''>Welcome {isAuthenticated().user.name}</div>\n      )}\n      <ul className='nav'>\n        {isAuthenticated() && isAuthenticated() && (\n          <li className='nav-item mx-2'>\n            <NavLink exact className='nav-link font-weight-bold' to='/'>\n              Home\n            </NavLink>\n          </li>\n        )}\n        {isAuthenticated() && isAuthenticated() && (\n          <li className='nav-item mx-2'>\n            <NavLink\n              exact\n              className='nav-link font-weight-bold'\n              to='/user/dashboard'\n            >\n              Dashboard\n            </NavLink>\n          </li>\n        )}\n        {isAuthenticated() && isAuthenticated().user.role === 1 && (\n          <li className='nav-item mx-2'>\n            <NavLink\n              exact\n              className='nav-link font-weight-bold'\n              to='/admin/dashboard'\n            >\n              Admin Dashboard\n            </NavLink>\n          </li>\n        )}\n        {!isAuthenticated() && (\n          <Fragment>\n            <li className='nav-item mx-2'>\n              <NavLink className='nav-link font-weight-bold' to='/signup'>\n                Sign Up\n              </NavLink>\n            </li>\n            <li className='nav-item mx-2'>\n              <NavLink\n                className='nav-link font-weight-bold btn btn-primary rounded'\n                to='/signin'\n              >\n                Sign In\n              </NavLink>\n            </li>\n          </Fragment>\n        )}\n        {isAuthenticated() && (\n          <li className='nav-item mx-2'>\n            <span\n              className='nav-link font-weight-bold btn btn-outline-danger rounded'\n              onClick={() => {\n                signout(() => {\n                  history.push(\"/\");\n                });\n              }}\n            >\n              Sign Out\n            </span>\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withRouter(navbar);\n","import React from \"react\";\n\nexport const Footer = () => {\n  return (\n    <footer className='footer mt-5 pt-3' style={{ background: \"#0C2461\" }}>\n      <div className='row w-100'>\n        <h2 id='contactus' className='mx-auto text-white font-weight-bold'>\n          <span>Contact Us</span>\n        </h2>\n      </div>\n      <div className='container py-3'>\n        <div className='row text-white'>\n          <div className='col row'>\n            <div className='col d-flex flex-column'>\n              <h3>Tech Stack</h3>\n              <ul>\n                <li>MongoDB</li>\n                <li>Express.js</li>\n                <li>React.js</li>\n                <li>Node.js</li>\n                <li>Bootstrap</li>\n              </ul>\n            </div>\n            <div className='col'>\n              <h3>Contribute</h3>\n              <ul>\n                <li>\n                  <a\n                    className='text-white'\n                    href='https://github.com/SatyaNarayanaputlur/capstone-music'\n                  >\n                    music reccomender @ GitHub\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n","import React from \"react\";\nimport Navbar from \"./Navbar\";\nimport barba from 'barba.js';\nimport { Footer } from \"./Footer\";\n\n\nconst Base = ({\n\tchildren\n}) => {\n\treturn (\n\t\t<div id=\"base\" data-barba=\"wrapper\">\n\t\t\t<Navbar />\n\t\t\t<div className=\"content\" data-barba=\"container\">\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t\t<Footer />\n\t\t</div>\n\t);\n};\n\nexport default Base;\n","import React from \"react\";\nimport Base from \"./Base\";\nimport { Link } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth/helper\";\n\nconst Landing = () => {\n  return (\n    <Base>\n      <section className='' style={{ background: \"#FFFFFF\" }}>\n        <div class='svgs'>\n          <img src='./imgs/static_bg.svg' alt='' />\n        </div>\n        <div className='page' id='part1'>\n          <div className='imgContainer'>\n            <img src='./imgs/main_bg_trans.png' alt='asd' />\n          </div>\n          <div className='info'>\n            <div className='title text-primary'>Music Recommender System</div>\n\n            <div className='btn-grp'>\n              <a href='/user/dashboard' className='try'>\n                Try now\n              </a>\n              <a href='#part2' className='more'>\n                How it works?\n              </a>\n            </div>\n          </div>\n          <div className='scrollIndicator'></div>\n        </div>\n        <div className='page' id='part2'>\n          <div className='card myCard'>\n            <div className='myCard-img'>\n              <img src='./imgs/track.svg' alt='' />\n            </div>\n            <div className='myCard-title text-blue'>Latest tracks</div>\n            <div className='myCard-body '>\n              Get a list of latest tracks released in the market, fetched\n              thorugh the Spotify API\n            </div>\n          </div>\n          <div className='card myCard'>\n            <div className='myCard-img'>\n              <img src='./imgs/rating.svg' alt='' />\n            </div>\n            <div className='myCard-title text-green'>Add to Favourites</div>\n            <div className='myCard-body '>\n              Seamlessly add/remove songs to your Favourite tracks by giving\n              them ratings\n            </div>\n          </div>\n          <div className='card myCard'>\n            <div className='myCard-img'>\n              <img src='./imgs/model.svg' alt='' />\n            </div>\n            <div className='myCard-title text-orange'>Recommendation</div>\n            <div className='myCard-body '>\n              Get a bunch of Songs recommended to you by our recommender engine\n              based on collaborative filtering\n            </div>\n          </div>\n          <div className='scrollIndicator'></div>\n        </div>\n      </section>\n    </Base>\n  );\n};\n\nexport default Landing;\n","import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { signup } from \"../auth/helper\";\n\nconst Signup = () => {\n\tconst [values, setValues] = useState({\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\terror: \"\",\n\t\tsuccess: false\n\t});\n\tconst { name, email, password, error, success } = values;\n\n\tconst handleChange = name => event => {\n\t\tsetValues({ ...values, error: false, [name]: event.target.value });\n\t};\n\n\tconst onSubmit = event => {\n\t\tevent.preventDefault();\n\t\tsetValues({ ...values, error: false });\n\t\tsignup({ name, email, password })\n\t\t\t.then(data => {\n\t\t\t\tif (data.error) {\n\t\t\t\t\tsetValues({ ...values, error: data.error, success: false });\n\t\t\t\t} else {\n\t\t\t\t\tsetValues({ ...values, name: \"\", email: \"\", password: \"\", error: \"\", success: true });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(\"Error: \", err));\n\t};\n\n\tconst signUpForm = () => {\n\t\treturn (\n\t\t\t<div className=\"\">\n\t\t\t\t<div className=\"row m-0 justify-content-center align-items-center\">\n\t\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t\t<div className=\"imgContainer\">\n\t\t\t\t\t\t\t<img src=\"./imgs/signup.jpg\" alt=\"signup\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-6 text-left\">\n\t\t\t\t\t\t<h2 className=\"font-weight-bold mb-5\">Lets get you all set up</h2>\n\t\t\t\t\t\t<form className=\"mt-5\" action=\"\">\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"\" className=\"text-dark\">\n\t\t\t\t\t\t\t\t\tName\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tonChange={handleChange(\"name\")}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\tplaceholder=\"John Doe\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"\" className=\"text-dark\">\n\t\t\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tonChange={handleChange(\"email\")}\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\tplaceholder=\"johnDoe@gmail.com\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"\" className=\"text-dark\">\n\t\t\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tonChange={handleChange(\"password\")}\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\tplaceholder=\"***\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button onClick={onSubmit} className=\"btn btn-success btn-block\">\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst successMsg = () => {\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-6 offset-sm-3 text-left\">\n\t\t\t\t\t<div className=\"alert alert-success\" role=\"alert\" style={{ display: success ? \"\" : \"none\" }}>\n\t\t\t\t\t\tAccount created successfully. Please <Link to=\"/signin\">Login here</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst errorMsg = () => {\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-6 offset-sm-3 text-left\">\n\t\t\t\t\t<div className=\"alert alert-danger\" role=\"alert\" style={{ display: error ? \"\" : \"none\" }}>\n\t\t\t\t\t\t{error}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Base title=\"Sign Up page\" description=\"A page for user to sign up\">\n\t\t\t{successMsg()}\n\t\t\t{errorMsg()}\n\t\t\t{signUpForm()}\n\t\t\t{/* <p className=\"text-white text-center\">{JSON.stringify(values)}</p> */}\n\t\t</Base>\n\t);\n};\n\nexport default Signup;\n","import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\n\nconst Signin = () => {\n\tconst [values, setValues] = useState({\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\terror: \"\",\n\t\tloading: false,\n\t\tdidRedirect: false\n\t});\n\n\tconst { email, password, error, loading, didRedirect } = values;\n\tconst { user } = isAuthenticated();\n\n\tconst handleChange = name => event => {\n\t\tsetValues({ ...values, error: false, [name]: event.target.value });\n\t};\n\n\tconst onSubmit = event => {\n\t\tevent.preventDefault();\n\t\tsetValues({ ...values, error: false, loading: true });\n\t\tsignin({ email, password })\n\t\t\t.then(data => {\n\t\t\t\tif (data.error) {\n\t\t\t\t\tsetValues({ ...values, error: data.error, loading: false });\n\t\t\t\t} else {\n\t\t\t\t\tauthenticate(data, () => {\n\t\t\t\t\t\tsetValues({ ...values, didRedirect: true });\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(\"Sigin in request failed: \", err));\n\t};\n\n\tconst performRedirect = () => {\n\t\tif (didRedirect) {\n\t\t\tif (user && user.role === 1) {\n\t\t\t\treturn <Redirect to=\"/user/dashboard\"/>\n\t\t\t} else {\n\t\t\t\treturn <Redirect to=\"/user/dashboard\"/>\t\t\t\t\n\t\t\t}\n\t\t}\n\t\tif (isAuthenticated()) {\n\t\t\treturn <Redirect to=\"/\" />;\n\t\t}\n\t};\n\n\tconst signInForm = () => {\n\t\treturn (\n\t\t\t<div className=\"\">\n\t\t\t\t<div className=\"row m-0 justify-content-center align-items-center\">\n\t\t\t\t\t<div className=\"col-6 \">\n\t\t\t\t\t\t\t<div className=\"imgContainer\" style={{width: '40em'}}>\n\t\t\t\t\t\t\t\t<img src=\"./imgs/login.jpg\" alt=\"login\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-6 h-100 text-left\">\n\t\t\t\t\t\t<h2 className=\"font-weight-bold mb-5\">Welcome Back,</h2>\n\t\t\t\t\t\t<form className=\"mb-5\" action=\"\">\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"\" className=\"text-dark\">\n\t\t\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tonChange={handleChange(\"email\")}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\tplaceholder=\"johnDoe@example.com\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"\" className=\"text-dark\">\n\t\t\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tonChange={handleChange(\"password\")}\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\tplaceholder=\"***\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button onClick={onSubmit} className=\"btn btn-success btn-block\">\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst loadingMsg = () => {\n\t\treturn (\n\t\t\tloading && (\n\t\t\t\t<div className=\"alert alert-info\">\n\t\t\t\t\t<h2>Loading...</h2>\n\t\t\t\t</div>\n\t\t\t)\n\t\t);\n\t};\n\n\tconst errorMsg = () => {\n\t\treturn (\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-6 offset-sm-3 text-left\">\n\t\t\t\t\t<div className=\"alert alert-danger\" role=\"alert\" style={{ display: error ? \"\" : \"none\" }}>\n\t\t\t\t\t\t{error}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Base>\n\t\t\t{loadingMsg()}\n\t\t\t{errorMsg()}\n\t\t\t{signInForm()}\n\t\t\t{performRedirect()}\n\t\t\t{/* <p className=\"text-white text-center\">{JSON.stringify(values)}</p> */}\n\t\t</Base>\n\t);\n};\n\nexport default Signin;\n","import React from 'react'\nimport {Route, Redirect} from 'react-router-dom'\nimport { isAuthenticated } from '.'\n\n\nconst AdminRoute = ({ component: Component, ...rest}) => {\n    return (\n        <Route \n            {...rest}\n            render={props  => \n                isAuthenticated() && isAuthenticated().user.role === 1 ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect \n                        to={{\n                            pathname: \"/signin\",\n                            state: { from: props.location }\n                        }}\n                        />\n                ) \n            }\n        />\n    )\n}\n\nexport default AdminRoute\n","import React from 'react'\nimport {Route, Redirect} from 'react-router-dom'\nimport { isAuthenticated } from '.'\n\n\nconst PrivateRoute = ({ component: Component, ...rest}) => {\n    return (\n        <Route \n            {...rest}\n            render={props  => \n                isAuthenticated() ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect \n                        to={{\n                            pathname: \"/signin\",\n                            state: { from: props.location }\n                        }}\n                        />\n                ) \n            }\n        />\n    )\n}\n\nexport default PrivateRoute\n","import React from \"react\";\nimport { API } from \"../../backend\";\n\nexport const getUserFavourites = (token, user) => {\n\treturn fetch(`${API}/track/favourites/${user._id}`, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(res => res.json())\n\t\t.catch(err => console.log(err));\n};\n\nexport const getNewTracks = token => {\n\treturn fetch(`${API}/track/new`, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(data => data.json())\n\t\t.catch(err => console.log(err));\n};\n\nexport const getFeaturedTracks = token => {\n\treturn fetch(`${API}/track/featured`, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(data => data.json())\n\t\t.catch(err => console.log(err));\n};\n\nexport const getTrackById = (token, id) => {\n\treturn fetch(`${API}/track/${id}`, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(data => data.json())\n\t\t.catch(err => console.log(err));\n};\n\nexport const getRecommendationTracks = (token, user) => {\n\treturn fetch(`${API}/user/${user._id}/recommendations`, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(data => data.json())\n\t\t.catch(err => console.log(err));\n};\n\nexport const getAllUsersFavs = (token, user) => {\n\treturn fetch(`${API}/user/${user._id}/all`, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(data => data.json())\n\t\t.catch(err => console.log(err));\n};\n\nexport const getSearchQueryResults = (token, user, searchQuery) => {\n\tlet url = new URL(`${API}/track/${user._id}/search`)\n\tlet params = {q: searchQuery}\n\turl.search = new URLSearchParams(params).toString();\n\n\treturn fetch(url, {\n\t\tmethod: \"GET\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(data => data.json())\n\t\t.catch(err => console.log(err));\n};\n","import React, { useState, useEffect } from \"react\";\nimport { isAuthenticated } from \"../auth/helper\";\nimport { addToFavourites, removeFromFavourites } from \"./helper/coreApiCalls\";\nimport { getUserFavourites } from \"../user/helper/userApiCalls\";\n\nconst Card = ({ track }) => {\n\tconst [rating, setRating] = useState(0);\n\tconst [isFav, setIsFav] = useState(false);\n\t\n\tconst { artist, duration, id, name, image } = track;\n\tconst { user, token } = isAuthenticated();\n\n\tconst loadTrackRating = () => {\n\t\tgetUserFavourites(token, user).then(user => {\n\t\t\tif (user.favourites) {\n\t\t\t\tlet track = user.favourites.filter(t => t.id == id);\n\t\t\t\tif (track.length) {\n\t\t\t\t\tsetRating(track[0].rating);\n\t\t\t\t\tsetIsFav(true);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tconst showRemoveBtn = () => {\n\t\treturn (\n\t\t\tisFav && (\n\t\t\t\t<button onClick={handleRemove} className=\"btn btn-outline-danger\">\n\t\t\t\t\tRemove\n\t\t\t\t</button>\n\t\t\t)\n\t\t);\n\t};\n\t\n\tconst handleRemove = () => {\n\t\tgetUserFavourites(token, user).then(user => {\n\t\t\tremoveFromFavourites(user, token, track.id).then(user => {\n\t\t\t\tsetRating(0);\n\t\t\t\tsetIsFav(false);\n\t\t\t})\n\t\t});\n\t};\n\n\tconst handleSubmit = newRating => event => {\n\t\tgetUserFavourites(token, user).then(user => {\n\t\t\taddToFavourites(user, token, track, newRating).then(user => {\n\t\t\t\tsetRating(newRating);\n\t\t\t\tsetIsFav(true);\n\t\t\t});\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tloadTrackRating();\n\t}, [rating]);\n\n\treturn (\n\t\t<div className=\"trackCard\">\n\t\t\t<div className=\"trackCard-img-container\">\n\t\t\t\t<img src={image} alt=\"track image\" className=\"card-img-top\" />\n\t\t\t</div>\n\t\t\t<div className=\"trackCard-body\">\n\t\t\t\t<div className=\"trackCard-name\">{name}</div>\n\t\t\t\t<div className=\"trackCard-artist\">{artist}</div>\n\t\t\t</div>\n\t\t\t<div className=\"trackCard-favourite\">\n\t\t\t\t<div className=\"removeBtn\">{showRemoveBtn()}</div>\n\t\t\t\t<span className=\"starRating\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={`${id}rating5`}\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname={`${id}rating`}\n\t\t\t\t\t\tvalue=\"5\"\n\t\t\t\t\t\tonChange={handleSubmit(\"5\")}\n\t\t\t\t\t\tchecked={rating && rating == \"5\"}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor={`${id}rating5`}>5</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={`${id}rating4`}\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname={`${id}rating`}\n\t\t\t\t\t\tvalue=\"4\"\n\t\t\t\t\t\tonChange={handleSubmit(\"4\")}\n\t\t\t\t\t\tchecked={rating && rating == \"4\"}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor={`${id}rating4`}>4</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={`${id}rating3`}\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname={`${id}rating`}\n\t\t\t\t\t\tvalue=\"3\"\n\t\t\t\t\t\tonChange={handleSubmit(\"3\")}\n\t\t\t\t\t\tchecked={rating && rating == \"3\"}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor={`${id}rating3`}>3</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={`${id}rating2`}\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname={`${id}rating`}\n\t\t\t\t\t\tvalue=\"2\"\n\t\t\t\t\t\tonChange={handleSubmit(\"2\")}\n\t\t\t\t\t\tchecked={rating && rating == \"2\"}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor={`${id}rating2`}>2</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={`${id}rating1`}\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tname={`${id}rating`}\n\t\t\t\t\t\tvalue=\"1\"\n\t\t\t\t\t\tonChange={handleSubmit(\"1\")}\n\t\t\t\t\t\tchecked={rating && rating == \"1\"}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor={`${id}rating1`}>1</label>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Card;\n","import React from \"react\";\nimport { API } from \"../../backend\";\n\nexport const addToFavourites = (user, token, track, rating) => {\n\tlet bodyData, newTrack = { ...track, rating};\n\tif (user.favourites) {\n\t\tlet ind = user.favourites.findIndex(t => t.id == track.id);\n\t\tif (ind !== -1) {\n\t\t\tuser.favourites[ind] = newTrack;\n\t\t\tbodyData = { favourites: user.favourites };\n\t\t} else {\n\t\t\tbodyData = { favourites: [...user.favourites, newTrack] };\n\t\t}\n\t} else {\n\t\tbodyData = { favourites: [newTrack] };\n\t}\n\t// console.log(bodyData);\n\treturn fetch(`${API}/user/${user._id}`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify(bodyData)\n\t})\n\t\t.then(data => data.json())\n\t\t.catch(err => console.log(err));\n};\n\nexport const removeFromFavourites = (user, token, id) => {\n\tuser.favourites = user.favourites.filter(track => track.id !== id);\n\tconst bodyData = { favourites: user.favourites };\n\t\n\treturn fetch(`${API}/user/${user._id}`, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\tAccept: \"application/json\",\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tAuthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify(bodyData)\n\t})\n\t\t.then(data => data.json())\n\t\t.catch(err => console.log(err));\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Base from \"../core/Base\";\nimport Card from \"../core/Card\";\nimport { getNewTracks, getRecommendationTracks, getSearchQueryResults, getUserFavourites, getTrackById } from \"./helper/userApiCalls\";\nimport { isAuthenticated } from \"../auth/helper\";\n\nconst UserDashboard = () => {\n\tconst [tracks, setTracks] = useState([]);\n\tconst [favourites, setFavourites] = useState([]);\n\tconst [recommendations, setRecommendations] = useState([]);\n\tconst [searchResults, setSearchResults] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [error, setError] = useState(false);\n\tconst trackTypes = [\"popular\", \"latest\", \"upcoming\", \"onsale\"];\n\tconst { user, token } = isAuthenticated();\n\n\tvar delayTimer;\n\n\tconst loadNewTracks = () => {\n\t\tgetNewTracks(token).then(data => {\n\t\t\tif (data.error) {\n\t\t\t\tsetError(data.error);\n\t\t\t} else {\n\t\t\t\tsetTracks([...tracks, ...data]);\n\t\t\t\tconsole.log(\"New Tracks fetched\");\n\t\t\t}\n\t\t});\n\t};\n\n\tconst loadUserFavourites = async () => {\n\t\tlet favList = [];\n\t\tlet userData = await getUserFavourites(token, user);\n\t\tif (userData.favourites) {\n\t\t\tlet l = userData.favourites.length;\n\t\t\tuserData.favourites.forEach(async (fav, ind) => {\n\t\t\t\tlet data = await getTrackById(token, fav.id);\n\t\t\t\tif (data)\n\t\t\t\t\tfavList.push(data);\n\t\t\t\tif (ind == l - 1) {\n\t\t\t\t\t// console.log(favList);\n\t\t\t\t\tsetFavourites(favList);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst loadRecommendations = () => {\n\t\tgetRecommendationTracks(token, user).then(data => {\n\t\t\tif (data.error) {\n\t\t\t\tsetError(data.error);\n\t\t\t} else {\n\t\t\t\tconsole.log(data);\n\t\t\t\tlet recs = [];\n\t\t\t\tlet len = data.length;\n\t\t\t\tdata.forEach((trackId, ind) => {\n\t\t\t\t\tgetTrackById(token, trackId)\n\t\t\t\t\t\t.then(track => {\n\t\t\t\t\t\t\tif(track)\n\t\t\t\t\t\t\t\trecs.push(track);\n\t\t\t\t\t\t\tif (ind == len - 1) {\n\t\t\t\t\t\t\t\tsetRecommendations([...recommendations, ...recs]);\n\t\t\t\t\t\t\t\tconsole.log(\"Recommendation Tracks fetched\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => console.log(err));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tconst execSearchQuery = (txt) => {\n\t\tif (txt){\n\t\t\tclearTimeout(delayTimer);\n\t\t\tdelayTimer = setTimeout(function() {\n\t\t\t\tconsole.log(\"SEACRHING: \", txt);\n\t\t\t\tsetLoading(true);\n\t\t\t\tgetSearchQueryResults(token, user, txt)\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif(data && data.error){\n\t\t\t\t\t\t\tsetError(data.error)\n\t\t\t\t\t\t}else if(data.length){\n\t\t\t\t\t\t\tconsole.log(\"Data: \", data);\n\t\t\t\t\t\t\tlet res = [];\n\t\t\t\t\t\t\tlet l = data.length;\n\t\t\t\t\t\t\tdata.forEach((id, ind) => {\n\t\t\t\t\t\t\t\tgetTrackById(token, id)\n\t\t\t\t\t\t\t\t\t.then(track => {\n\t\t\t\t\t\t\t\t\t\tres.push(track);\n\t\t\t\t\t\t\t\t\t\tif (ind == l - 1) {\n\t\t\t\t\t\t\t\t\t\t\tsetSearchResults(res);\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Search Query Results fetched\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => console.log(err));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => console.log(err));\n\t\t\t}, 1000);\n\t\t}else{\n\t\t\tclearTimeout(delayTimer);\n\t\t\tsetSearchResults([]);\n\t\t}\n\t};\n\n\tconst loadingMsg = () => {\n\t\treturn (\n\t\t\t<img className=\"col-1\" src=\"../imgs/loading.gif\" style={{ display: loading ? \"block\" : \"none\" }}/>\n\t\t);\n\t};\n\n\tuseEffect(() => {\n\t\tloadNewTracks();\n\t\tloadUserFavourites();\n\t\tloadRecommendations();\n\t}, []);\n\n\n\treturn (\n\t\t<Base>\n\t\t\t<section className=\"container mt-5\" id=\"songsSection\">\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"seach\"><h4><i className=\"fas fa-search text-muted\">&nbsp;</i>Search something</h4></label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonChange={e => execSearchQuery(e.target.value)}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tid=\"searchQuery\"\n\t\t\t\t\t\tplaceholder=\"Song / artist / album\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{loadingMsg()}\n\t\t\t\t<div className=\"row grid mb-3\">\n\t\t\t\t\t{searchResults && \n\t\t\t\t\t\tsearchResults.map((track, index) => {\n\t\t\t\t\t\t// console.log(track.name, index);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tclassName={`col-lg-3 col-md-6 col-sm-12 element-item track mb-4 ${\n\t\t\t\t\t\t\t\t\ttrackTypes[Math.floor(Math.random() * trackTypes.length)]\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Card track={track} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<nav className=\"mt-5\">\n\t\t\t\t\t<div className=\"nav nav-fill nav-lg nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"nav-item nav-link active\"\n\t\t\t\t\t\t\tid=\"nav-tracks-tab\"\n\t\t\t\t\t\t\tdata-toggle=\"tab\"\n\t\t\t\t\t\t\thref=\"#nav-tracks\"\n\t\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\t\taria-controls=\"nav-tracks\"\n\t\t\t\t\t\t\taria-selected=\"true\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h3>Tracks</h3>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"nav-item nav-link\"\n\t\t\t\t\t\t\tid=\"nav-fav-tab\"\n\t\t\t\t\t\t\tdata-toggle=\"tab\"\n\t\t\t\t\t\t\thref=\"#nav-fav\"\n\t\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\t\taria-controls=\"nav-fav\"\n\t\t\t\t\t\t\taria-selected=\"false\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h3>Favourites</h3>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName=\"nav-item nav-link\"\n\t\t\t\t\t\t\tid=\"nav-rec-tab\"\n\t\t\t\t\t\t\tdata-toggle=\"tab\"\n\t\t\t\t\t\t\thref=\"#nav-rec\"\n\t\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\t\taria-controls=\"nav-fav\"\n\t\t\t\t\t\t\taria-selected=\"false\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h3>Recommendations</h3>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t\t\t\t<div className=\"tab-content\" id=\"nav-tabContent\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"tab-pane fade show active\"\n\t\t\t\t\t\tid=\"nav-tracks\"\n\t\t\t\t\t\trole=\"tabpanel\"\n\t\t\t\t\t\taria-labelledby=\"nav-home-tab\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"tracks-area\">\n\t\t\t\t\t\t\t<div className=\"button-group\">\n\t\t\t\t\t\t\t\t<button type=\"button\" data-filter=\"*\" className=\"active\" id=\"btn1\">\n\t\t\t\t\t\t\t\t\tAll\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type=\"button\" data-filter=\".popular\">\n\t\t\t\t\t\t\t\t\tPopular\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type=\"button\" data-filter=\".latest\">\n\t\t\t\t\t\t\t\t\tLatest\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type=\"button\" data-filter=\".upcoming\">\n\t\t\t\t\t\t\t\t\tUpcoming\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"row grid mt-5\">\n\t\t\t\t\t\t\t\t{/* {console.log(tracks)} */}\n\t\t\t\t\t\t\t\t{tracks &&\n\t\t\t\t\t\t\t\t\ttracks.map((track, index) => {\n\t\t\t\t\t\t\t\t\t\t// console.log(track.name, index);\n\t\t\t\t\t\t\t\t\t\tif (favourites.findIndex(fav => fav.id == track.id) == -1) {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`col-lg-4 col-md-6 col-sm-12 element-item track mb-4 ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrackTypes[Math.floor(Math.random() * trackTypes.length)]\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Card track={track} />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"tab-pane fade\" id=\"nav-fav\" role=\"tabpanel\" aria-labelledby=\"nav-fav-tab\">\n\t\t\t\t\t\t<div className=\"row grid mt-5\">\n\t\t\t\t\t\t\t{favourites &&\n\t\t\t\t\t\t\t\tfavourites.map((fav, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName={`col-lg-4 col-md-6 col-sm-12 element-item track mb-4`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Card track={fav} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"tab-pane fade\" id=\"nav-rec\" role=\"tabpanel\" aria-labelledby=\"nav-rec-tab\">\n\t\t\t\t\t\t<div className=\"row grid mt-5\">\n\t\t\t\t\t\t\t{recommendations &&\n\t\t\t\t\t\t\t\trecommendations.map((rec, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tclassName={`col-lg-4 col-md-6 col-sm-12 element-item track mb-4`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Card track={rec} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</Base>\n\t);\n};\n\nexport default UserDashboard;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Base from \"../core/Base\";\nimport Card from \"../core/Card\";\nimport { getAllUsersFavs } from \"./helper/userApiCalls\";\nimport { isAuthenticated } from \"../auth/helper\";\n\nconst AdminDashboard = () => {\n\tconst [usersFavs, setUsersFavs] = useState([]);\n\tconst { user, token } = isAuthenticated();\n\n\tconst loadAllUsersFavs = () => {\n\t\tgetAllUsersFavs(token, user)\n\t\t\t.then(data => {\n\t\t\t\tsetUsersFavs(data);\n\t\t\t\tconsole.log(\"All Users Favs fetched\")\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n\t};\n\n\tuseEffect(() => {\n\t\tloadAllUsersFavs();\n\t}, []);\n\n\treturn (\n\t\t<Base>\n\t\t\t<section className=\"container border rounded mt-5\" id=\"\">\n\t\t\t\t<nav id=\"navbar-user-data\" className=\"navbar navbar-light bg-light my-2 shadow-sm rounded\">\n\t\t\t\t\t<ul className=\"nav nav-pills\">\n\t\t\t\t\t\t{usersFavs && usersFavs.map((userData, ind) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t<a key={ind} className=\"nav-link\" href={`#${userData._id}`}>\n\t\t\t\t\t\t\t\t\t{userData.name}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t\t<table class=\"table table-bordered\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr className=\"table-success\">\n\t\t\t\t\t\t\t<th scope=\"col-3\"><h4>Username</h4></th>\n\t\t\t\t\t\t\t<th scope=\"col-3\"><h4>Song</h4></th>\n\t\t\t\t\t\t\t<th scope=\"col-3\"><h4>Artist</h4></th>\n\t\t\t\t\t\t\t<th scope=\"col\"><h4>Rating</h4></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{usersFavs && usersFavs.map((userData, ind) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td id={userData._id}>\n\t\t\t\t\t\t\t\t\t<h4>{userData.name}</h4>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{userData.favourites.map((fav, ind) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"alert p-2 alert-primary\">\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{fav.name}</b>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{userData.favourites.map((fav, ind) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"alert p-2 alert-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t{fav.artist}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{userData.favourites.map((fav, ind) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"alert p-2 alert-warning\">\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{fav.rating}</b> stars\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</section>\n\t\t</Base>\n\t);\n};\n\nexport default AdminDashboard;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Landing from \"./core/Landing\";\nimport Signup from \"./user/Signup\";\nimport Signin from \"./user/Signin\";\nimport \"./styles.css\";\nimport AdminRoute from \"./auth/helper/AdminRoute\";\nimport PrivateRoute from \"./auth/helper/PrivateRoute\";\nimport UserDashboard from \"./user/UserDashboard\";\nimport AdminDashboard from \"./user/AdminDashboard\";\n\nconst App = () => {\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/\" exact component={Landing} />\n\t\t\t\t<Route path=\"/signup\" exact component={Signup} />\n\t\t\t\t<Route path=\"/signin\" exact component={Signin} />\n\t\t\t\t<PrivateRoute path=\"/user/dashboard\" exact component={UserDashboard} />\n\t\t\t\t<AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\n\t\t\t</Switch>\n\t\t</BrowserRouter>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport '../node_modules/bootstrap/dist/js/bootstrap.min.js';\nimport '../node_modules/bootstrap/dist/js/bootstrap.bundle.min';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}